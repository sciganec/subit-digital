<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hexagonal Lattice Visualization</title>
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <style>
        body { font-family: Arial, sans-serif; }
        .hexagon { stroke: #333; stroke-width: 1px; cursor: pointer; }
        .highlight { fill: orange; }
    </style>
</head>
<body>
    <h1>Hexagonal Lattice Topology</h1>
    <svg id="hexCanvas" width="800" height="600"></svg>
    <script>
        const width = 800;
        const height = 600;
        const radius = 25;

        const svg = d3.select("#hexCanvas");

        // Hexagon path generator
        const hexagon = d3.line()
            .x((d) => d[0])
            .y((d) => d[1]);

        const generateHexagon = (cx, cy) => {
            return d3.range(6).map((i) => {
                const angle = 2 * Math.PI / 6 * i;
                return [cx + radius * Math.cos(angle), cy + radius * Math.sin(angle)];
            });
        };

        const drawHexagonalLattice = (cols, rows) => {
            for (let row = 0; row < rows; row++) {
                for (let col = 0; col < cols; col++) {
                    const cx = col * radius * 1.5;
                    const cy = row * radius * Math.sqrt(3) + (col % 2) * radius * Math.sqrt(3) / 2;
                    const hexCoords = generateHexagon(cx, cy);
                    svg.append("path")
                        .attr("class", "hexagon")
                        .attr("d", hexagon(hexCoords))
                        .attr("transform", `translate(${cx}, ${cy})`)
                        .on("click", function() {
                            d3.selectAll(".hexagon").classed("highlight", false);
                            d3.select(this).classed("highlight", true);
                        });
                }
            }
        };

        drawHexagonalLattice(12, 8);
    </script>
</body>
</html>